<section ng-class="{shown: (tab == 'announcements')}" class="tab-section announcements"><div class="button-container"><button ng-if="user.type == 'organizer'" ng-click="newPost()">New Announcement</button></div><div class="announcement-block"><div ng-repeat="a in announcements track by $index | orderBy:'time':true" class="repeat-announcement"><div class="announcement-container"><h3 class="title">{{ a.title }}</h3><div class="time">{{ a.fromNow }}</div><div ng-bind-html="a.body | markdown" class="text"></div><img ng-if="a.image" ng-src="{{a.image}}" class="image"/><div ng-if="user.type == 'organizer'" class="actions"><div ng-click="confirmDelete(a.index)" class="icon delete pe-7s-trash"></div><div ng-click="editPost(a.index)" class="icon edit pe-7s-pen"></div></div></div><div class="post-divider"></div></div></div><div class="twitter"><div class="hashtag">{{'#'+event.name}}</div><div class="twitter-content"><div ng-repeat="t in tweets | orderBy:'time':true" class="tweet-container"><a href="{{t.url}}" target="_blank" class="tweet-link"><div class="handle">{{'@'+t.user}}</div><div class="tweet">{{t.text}}</div><div class="time">{{t.fromNow}}</div></a></div></div></div><div ng-if="user.type == 'organizer'" ng-class="{shown: announcementsTab.modalShown}" class="modal edit-post"><div ng-click="announcementsTab.modalShown = false" class="close-button pe-7s-close"></div><p ng-bind="errorText" class="error-text"></p><form ng-submit="submitPost()"><div class="input-group"><input type="text" id="title" ng-model="postEditing.title" placeholder="New Post"/><label for="title" ng-class="{error: errorText}"><span>Title</span></label></div><div class="input-group"><input type="text" id="notif" ng-model="postEditing.notif" placeholder="Send a text to all attendees"/><label for="notif" ng-class="{error: errorText}"><span>SMS Notification Text (optional)</span></label></div><div class="input-group"><div file-upload="file-upload" ng-class="{show: postEditing.image}" context="event" name="image" id="image" ng-model="postEditing.image">Click to upload image (optional)<img ng-src="{{postEditing.image}}" class="preview"/></div><label for="image" ng-class="{error: errors.image}"><span>Image</span></label></div><div class="input-group"><textarea rows="2" id="title" ng-model="postEditing.body" placeholder="Text of the announcement."></textarea><label for="title" ng-class="{error: errorText}"><span>Body</span></label></div><button type="submit">{{postEditing.id ? "Update": "Post"}}  Announcement</button></form></div><div ng-if="user.type == 'organizer'" ng-class="{shown: announcementsTab.deleteShown}" class="modal confirm-delete"><div ng-click="announcementsTab.deleteShown = false" class="close-button pe-7s-close"></div><div class="confirm">Are you sure you want to delete this announcement?</div><button ng-click="deletePost()">Delete Announcement</button></div><div ng-class="{shown: (announcementsTab.modalShown || announcementsTab.deleteShown)}" ng-click="announcementsTab.modalShown = false; announcementsTab.deleteShown = false" class="modal-cover"></div></section>