<div ng-style="{'background-image':'url('+event.image+')'}" class="event-cover"><div class="tab-navigation"><ul><li ng-class="{selected: (tab == 'announcements')}"><a ng-click="tab = 'announcements'">Announcements</a></li><li ng-class="{selected: (tab == 'schedule')}"><a ng-click="tab = 'schedule'">Schedule</a></li><li ng-show="user.type == 'student'" ng-class="{selected: (tab == 'mentors')}"><a ng-click="tab = 'mentors'">Request a Mentor</a></li><li ng-show="user.type == 'student'" ng-class="{selected: (tab == 'team')}"><a ng-click="tab = 'team'">Your Team</a></li><li ng-class="{selected: (tab == 'projects')}"><a ng-click="tab = 'projects'">Projects</a></li><li ng-show="user.type == 'organizer'" ng-class="{selected: (tab == 'attendees')}"><a ng-click="tab = 'attendees'">Attendees</a></li><li ng-show="user.type == 'organizer'" ng-class="{selected: (tab == 'checkin')}"><a ng-click="tab = 'checkin'">Check-in</a></li><li ng-show="user.type == 'organizer'" ng-class="{selected: (tab == 'settings')}"><a ng-click="tab = 'settings'">Settings</a></li></ul></div></div><section class="event-tab"><div class="container"><section ng-class="{shown: (tab == 'announcements')}" class="tab-section announcements"><div class="button-container"><button ng-if="user.type == 'organizer'" ng-click="newPost()">New Announcement</button></div><div class="announcement-block"><div ng-repeat="a in announcements | orderBy:'time':true" class="repeat-announcement"><div class="announcement-container"><h3 class="title">{{ a.title }}</h3><div class="time">{{ a.fromNow }}</div><div class="text">{{ a.body }}</div><img ng-if="a.image" ng-src="{{a.image}}" class="image"/><div ng-if="user.type == 'organizer'" class="actions"><div ng-click="confirmDelete(a.index)" class="icon delete pe-7s-trash"></div><div ng-click="editPost(a.index)" class="icon edit pe-7s-pen"></div></div></div><div class="post-divider"></div></div></div><div class="twitter"><div class="hashtag">{{'#'+event.name}}</div><div class="twitter-content"><div ng-repeat="t in tweets | orderBy:'time':true" class="tweet-container"><a href="{{t.url}}" target="_blank" class="tweet-link"><div class="handle">{{'@'+t.user}}</div><div class="tweet">{{t.text}}</div><div class="time">{{t.fromNow}}</div></a></div></div></div><div ng-if="user.type == 'organizer'" ng-class="{shown: announcementsTab.modalShown}" class="modal edit-post"><div ng-click="announcementsTab.modalShown = false" class="close-button pe-7s-close"></div><p ng-bind="errorText" class="error-text"></p><form ng-submit="submitPost()"><div class="input-group"><input type="text" id="title" ng-model="postEditing.title" placeholder="New Post"/><label for="title" ng-class="{error: errorText}"><span>Title</span></label></div><div class="input-group"><input type="text" id="notif" ng-model="postEditing.notif" placeholder="Send a text to all attendees"/><label for="notif" ng-class="{error: errorText}"><span>SMS Notification Text (optional)</span></label></div><div class="input-group"><input type="text" id="image" ng-model="postEditing.image" placeholder="http://gopilot.org/img/dc.jpg"/><label for="image" ng-class="{error: errorText}"><span>Image URL (optional)</span></label></div><div class="input-group"><textarea rows="2" id="title" ng-model="postEditing.body" placeholder="Text of the announcement."></textarea><label for="title" ng-class="{error: errorText}"><span>Body</span></label></div><button type="submit">{{postEditing.id ? "Update": "Post"}}  Announcement</button></form></div><div ng-if="user.type == 'organizer'" ng-class="{shown: announcementsTab.deleteShown}" class="modal confirm-delete"><div ng-click="announcementsTab.deleteShown = false" class="close-button pe-7s-close"></div><div class="confirm">Are you sure you want to delete this announcement?</div><button ng-click="deletePost()">Delete Announcement</button></div><div ng-class="{shown: (announcementsTab.modalShown || announcementsTab.deleteShown)}" ng-click="announcementsTab.modalShown = false; announcementsTab.deleteShown = false" class="modal-cover"></div></section><section ng-class="{shown: (tab == 'schedule')}" class="tab-section schedule"><p>Schedule</p></section><section ng-if="user.type == 'student'" ng-class="{shown: (tab == 'mentors')}" class="tab-section mentors"><p>Need help learning a new language? Have a bug you can't fix? Need an idea for what to build? Fill out this form and we'll send a mentor over to help you out! </p><form ng-submit="requestMentor()"><p ng-show="formError" class="error-text">All fields are required</p><div class="input-group"><input type="text" id="name" ng-model="mentorRequest.name" placeholder="Johnny Appleseed"/><label for="name" ng-class="{error: errors.name}"><span>Name</span></label></div><div class="input-group"><input type="text" id="location" ng-model="mentorRequest.location" placeholder="e.g. Room 204, by the window"/><label for="location" ng-class="{error: errors.location}"><span>Location</span></label></div><div class="input-group"><input type="text" id="platform" ng-model="mentorRequest.platform" placeholder="Android, iOS, Web, etc"/><label for="platform" ng-class="{error: errors.platform}"><span>Platform(s)</span></label></div><div class="input-group"><textarea rows="3" id="problem" ng-model="mentorRequest.problem" placeholder="e.g. I get an error when I try to compile my app"></textarea><label for="problem" ng-class="{error: errors.problem}"><span>Describe your problem</span></label></div><button type="submit">Submit Request</button></form></section><section ng-if="user.type == 'student'" ng-class="{shown: (tab == 'team')}" class="tab-section team"><h3 class="team-size">You can invite up to 4 people to your team.</h3><div class="team-container"><span ng-repeat="teammate in team track by $index"><div ng-click="openModal($index)" ng-class="{empty:(!teammate), 'icon pe-7s-plus':($index == teamCount)}" data-index="{{$index}}" class="teammate-card"><img ng-src="{{teammate.image}}" class="profile"/><div class="name">{{teammate.name}}</div><div class="email">{{teammate.email}}</div><div ng-click="removeTeammate($index)" class="icon pe-7s-close"></div></div></span></div><div ng-class="{shown: invite.modalShown}" class="modal add-teammate"><div ng-click="invite.modalShown = false" class="close-button pe-7s-close"></div><p ng-bind="errorText" class="error-text"></p><form ng-submit="invite()"><div class="input-group"><input type="text" id="email" ng-keypress="checkEmail()" ng-model="invite.email" placeholder="john.appleseed@example.com"/><label for="email" ng-class="{error: errorText}"><span>Enter your teammate's email</span></label></div><button type="submit">Invite Teammate</button></form></div><div ng-class="{shown: invite.modalShown}" ng-click="invite.modalShown = false" class="modal-cover"></div></section><section ng-class="{shown: (tab == 'projects')}" class="tab-section projects"><p>Projects</p></section><section ng-if="user.type == 'organizer'" ng-class="{shown: (tab == 'attendees')}" class="tab-section attendees"><div class="table-container"><div class="toggle"><div ng-click="viewTable = 'students'" ng-class="{selected: (viewTable == 'students')}" class="option">Students</div><div ng-click="viewTable = 'mentors'" ng-class="{selected: (viewTable == 'mentors')}" class="option">Mentors</div></div><div class="input-group"><input type="text" id="filter" ng-model="query" placeholder=""/><label for="filter"><span>Filter</span></label></div><table ng-show="viewTable == 'students'" class="students"><thead><tr><th ng-class="{selected: (sortCol == 'name')}" ng-click="changeSort('name')">Name<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th><th ng-class="{selected: (sortCol == 'email')}" ng-click="changeSort('email')">Email<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th><th ng-class="{selected: (sortCol == 'grade')}" ng-click="changeSort('grade')">Grade<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th><th ng-class="{selected: (sortCol == 'school')}" ng-click="changeSort('school')">School<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th><th ng-class="{selected: (sortCol == 'gender')}" ng-click="changeSort('gender')">Gender<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th><th ng-class="{selected: (sortCol == 'experience_years')}" ng-click="changeSort('experience_years')">Experience<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th><th ng-class="{selected: (sortCol == 'birth_date')}" ng-click="changeSort('birth_date')">Birth Date<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th><th ng-class="{selected: (sortCol == 'phone')}" ng-click="changeSort('phone')">Phone<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th><th ng-class="{selected: (sortCol == 'shirt_type')}" ng-click="changeSort('shirt_type')">Shirt Type<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th><th ng-class="{selected: (sortCol == 'shirt_size')}" ng-click="changeSort('shirt_size')">Shirt Size<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th><th ng-class="{selected: (sortCol == 'emergency_name')}" ng-click="changeSort('emergency_name')">Emergency Name<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th><th ng-class="{selected: (sortCol == 'emergency_email')}" ng-click="changeSort('emergency_email')">Emergency Email<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th><th ng-class="{selected: (sortCol == 'emergency_phone')}" ng-click="changeSort('emergency_phone')">Emergency Phone<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th><th ng-class="{selected: (sortCol == 'dietary')}" ng-click="changeSort('dietary')">Dietary Restrictions<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th><th ng-class="{selected: (sortCol == 'notes')}" ng-click="changeSort('notes')">Notes<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th></tr></thead><tbody><tr ng-repeat="student in attendees.students | orderBy:sortCol:reverse | filter:query" ng-click="openAttendee(student)"><td>{{student.name}}</td><td>{{student.email}}</td><td>{{student.grade}}</td><td>{{student.school}}</td><td>{{student.gender}}</td><td>{{student.experience_years}}</td><td>{{student.birth_date}}</td><td>{{student.phone}}</td><td>{{student.shirt_type}}</td><td>{{student.shirt_size}}</td><td>{{student.emergency_name}}</td><td>{{student.emergency_email}}</td><td>{{student.emergency_phone}}</td><td>{{student.dietary}}</td><td>{{student.notes[event.id]}}</td></tr></tbody></table><table ng-show="viewTable == 'mentors'" class="mentors"><thead><tr><th ng-class="{selected: (sortCol == 'name')}" ng-click="changeSort('name')">Name<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th><th ng-class="{selected: (sortCol == 'email')}" ng-click="changeSort('email')">Email<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th><th ng-class="{selected: (sortCol == 'title')}" ng-click="changeSort('title')">Title<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th><th ng-class="{selected: (sortCol == 'company')}" ng-click="changeSort('company')">Company<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th><th ng-class="{selected: (sortCol == 'gender')}" ng-click="changeSort('gender')">Gender<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th><th ng-class="{selected: (sortCol == 'phone')}" ng-click="changeSort('phone')">Phone<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th><th ng-class="{selected: (sortCol == 'experience_years')}" ng-click="changeSort('experience_years')">Experience<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th><th ng-class="{selected: (sortCol == 'skills')}" ng-click="changeSort('skills')">Skills<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th><th ng-class="{selected: (sortCol == 'profiles')}" ng-click="changeSort('profiles')">Profiles<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th><th ng-class="{selected: (sortCol == 'shirt_type')}" ng-click="changeSort('shirt_type')">Shirt Type<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th><th ng-class="{selected: (sortCol == 'shirt_size')}" ng-click="changeSort('shirt_size')">Shirt Size<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th><th ng-class="{selected: (sortCol == 'dietary')}" ng-click="changeSort('dietary')">Dietary Restrictions<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th><th ng-class="{selected: (sortCol == 'notes')}" ng-click="changeSort('notes')">Notes<i ng-class="{'pe-7s-angle-up': !reverse, 'pe-7s-angle-down': reverse}" class="icon"></i></th></tr></thead><tbody><tr ng-repeat="mentor in attendees.mentors | orderBy:sortCol:reverse | filter:query" ng-click="openAttendee(mentor)"><td>{{mentor.name}}</td><td>{{mentor.email}}</td><td>{{mentor.title}}</td><td>{{mentor.company}}</td><td>{{mentor.gender}}</td><td>{{mentor.phone}}</td><td>{{mentor.experience_years}}</td><td>{{mentor.skills}}</td><td>{{mentor.profiles}}</td><td>{{mentor.shirt_type}}</td><td>{{mentor.shirt_size}}</td><td>{{mentor.dietary}}</td><td>{{mentor.notes[event.id]}}</td></tr></tbody></table></div><div ng-class="{shown: attendeesTab.modalShown}" class="modal edit-attendee"><div ng-click="attendeesTab.modalShown = false" class="close-button pe-7s-close"></div><p ng-bind="errorText" class="error-text"></p><form ng-submit="updateAttendee()"><div class="input-group"><input type="text" id="title" ng-model="postEditing.title" placeholder="New Post"/><label for="title" ng-class="{error: errorText}"><span>Title</span></label></div><div class="input-group"><input type="text" id="notif" ng-model="postEditing.notif" placeholder="Send a text to all attendees"/><label for="notif" ng-class="{error: errorText}"><span>SMS Notification Text (optional)</span></label></div><div class="input-group"><input type="text" id="image" ng-model="postEditing.image" placeholder="http://gopilot.org/img/dc.jpg"/><label for="image" ng-class="{error: errorText}"><span>Image URL (optional)</span></label></div><div class="input-group"><textarea rows="2" id="title" ng-model="postEditing.body" placeholder="Text of the announcement."></textarea><label for="title" ng-class="{error: errorText}"><span>Body</span></label></div><button type="submit">{{postEditing.id ? "Update": "Post"}}  Announcement</button></form></div></section><section ng-if="user.type == 'organizer'" ng-class="{shown: (tab == 'checkin')}" class="tab-section checkin"><p>Check-In</p></section><section ng-if="user.type == 'organizer'" ng-class="{shown: (tab == 'settings')}" class="tab-section settings"><h3>Event Settings</h3><form ng-submit="updateEvent()"><div class="input-group"><input type="text" id="name" ng-model="event.name" placeholder="PilotDC"/><label for="name" ng-class="{error: errors.name}"><span>Name</span></label></div><div class="input-group"><input type="text" id="slug" ng-model="event.slug" placeholder="dc2015"/><label for="slug" ng-class="{error: errors.slug}"><span>Slug</span></label></div><div class="input-group"><input type="text" id="city" ng-model="event.city" placeholder="Washington DC"/><label for="city" ng-class="{error: errors.city}"><span>City</span></label></div><div class="input-group"><input type="text" id="location" ng-model="event.location" placeholder="Microsoft"/><label for="location" ng-class="{error: errors.location}"><span>Location</span></label></div><div class="input-group"><input type="text" id="address" ng-model="event.address" placeholder="5404 Wisconsin Ave, Suite 700, Chevy Chase, MD"/><label for="address" ng-class="{error: errors.address}"><span>Address</span></label></div><div class="input-group"><input type="text" id="image" ng-model="event.image" placeholder="https://gopilot.org/img/dc.jpg"/><label for="image" ng-class="{error: errors.image}"><span>Image URL</span></label></div><div class="input-group"><input type="text" id="start_date" ng-model="event.start_date_string" placeholder="06/06/2015 9:00AM"/><label for="start_date" ng-class="{error: errors.start_date}"><span>Start Date</span></label></div><div class="input-group"><input type="text" id="end_date" ng-model="event.end_date_string" placeholder="06/07/2015 5:00PM"/><label for="end_date" ng-class="{error: errors.end_date}"><span>End Date</span></label></div><div class="input-group"><input type="text" id="registration_end" ng-model="event.registration_end_string" placeholder="06/01/2015 12:00AM"/><label for="registration_end" ng-class="{error: errors.registration_end}"><span>Registration End Date</span></label></div><div class="input-group"><input type="text" id="price" ng-model="event.price" placeholder="$20"/><label for="price" ng-class="{error: errors.price}"><span>Price</span></label></div><button type="submit">Update Event</button></form></section></div></section>